{"componentChunkName":"component---src-templates-blog-post-js","path":"/archives/2015-03-17-refresh-object-in-sqlalchemy/","result":{"data":{"site":{"siteMetadata":{"title":"Alvie's Blog"}},"markdownRemark":{"id":"413188ab-e65c-58f4-92d8-a92290978f94","excerpt":"From: python - sqlalchemy flush() and get inserted id? - Stack Overflow","html":"<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">f <span class=\"token operator\">=</span> Foo<span class=\"token punctuation\">(</span>bar<span class=\"token operator\">=</span>x<span class=\"token punctuation\">)</span>\nsession<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span>\nsession<span class=\"token punctuation\">.</span>flush<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># At this point, the object f has been pushed to the DB, </span>\n<span class=\"token comment\"># and has been automatically assigned a unique primary key id</span>\n\nf<span class=\"token punctuation\">.</span><span class=\"token builtin\">id</span>\n<span class=\"token comment\"># is None</span>\n\nsession<span class=\"token punctuation\">.</span>refresh<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># refresh updates given object in the session with its state in the DB</span>\n<span class=\"token comment\"># (and can also only refresh certain attributes - search for documentation)</span>\n\nf<span class=\"token punctuation\">.</span><span class=\"token builtin\">id</span>\n<span class=\"token comment\"># is the automatically assigned primary key ID given in the database.</span></code></pre></div>\n<p>From:</p>\n<p><a href=\"http://stackoverflow.com/questions/1316952/sqlalchemy-flush-and-get-inserted-id#5083472\">python - sqlalchemy flush() and get inserted id? - Stack Overflow</a></p>","frontmatter":{"title":"SQLAlchemy 获取 AutoField 值","date":"March 17, 2015","description":null}},"previous":{"fields":{"slug":"/archives/2015-02-26-nonlocal-statement-in-python3/"},"frontmatter":{"title":"Python 3 中的 nonlocal 语句"}},"next":{"fields":{"slug":"/archives/2015-06-09-singleton-in-python/"},"frontmatter":{"title":"Python 中的单例模式"}}},"pageContext":{"id":"413188ab-e65c-58f4-92d8-a92290978f94","previousPostId":"12f4a9ea-d630-579f-802a-9dd06db3b1b9","nextPostId":"8574e977-02c8-518b-920b-ce4d44982888"}},"staticQueryHashes":["2841359383","3257411868"]}