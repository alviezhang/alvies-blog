{"componentChunkName":"component---src-templates-blog-post-js","path":"/archives/2016-04-10-create-package-in-aur/","result":{"data":{"site":{"siteMetadata":{"title":"Alvie's Blog"}},"markdownRemark":{"id":"4afbc9e6-fe92-5272-8ac9-bafff83ee9d3","excerpt":"身为 Arch Linux/AUR 用户好几年了，还未向社区贡献过什么东西。今天刚好用到的一个代理软件 Meow 没在 AUR 中找到，就照着 Wiki 创建了 meow-proxy 包，下面是大致的步骤。 克隆 Git 仓库 编辑 PKGBUILD 文件 写 PKGBUILD 时，首先参考了在 GitHub…","html":"<p>身为 Arch Linux/AUR 用户好几年了，还未向社区贡献过什么东西。今天刚好用到的一个代理软件 <a href=\"https://github.com/renzhn/MEOW\" title=\"Meow proxy\">Meow</a> 没在 AUR 中找到，就照着 <a href=\"https://wiki.archlinux.org/index.php/Arch_User_Repository#Creating_a_new_package\">Wiki</a> 创建了 <a href=\"https://aur.archlinux.org/packages/meow-proxy/\">meow-proxy</a> 包，下面是大致的步骤。</p>\n<ul>\n<li>克隆 Git 仓库</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone git+ssh://aur@aur.archlinux.org/meow-proxy.git</code></pre></div>\n<ul>\n<li>编辑 PKGBUILD 文件</li>\n</ul>\n<p>写 PKGBUILD 时，首先参考了在 GitHub 上的<a href=\"https://github.com/aur-archive/meow-proxy/\">aur-meow</a>，这个包版本已经很老了，也无法在 AUR 中找到，于是根据最新的 meow 重新写了下 source 和 sha1sum，发现生成的包只有当前 Arch 的包，又照着了 <a href=\"https://aur.archlinux.org/packages/cow-proxy/\">cow-proxy</a> 的 PKGBUILD 文件重新写了一下。</p>\n<ul>\n<li>打包测试</li>\n</ul>\n<p>使用 makepkg 在本地打包</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">makepkg</code></pre></div>\n<ul>\n<li>生成 .SRCINFO 文件</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">makepkg --printsrcinfo <span class=\"token operator\">></span> .SRCINFO</code></pre></div>\n<ul>\n<li>提交 Git 代码</li>\n</ul>\n<p>将 PKGBUILD、.SRCINFO 和在 PKGBUILD 包含的本地 source 添加到 git 中，然后 push 代码。</p>\n<p>运行 <code class=\"language-text\">yaourt meow-proxy</code>，检查无误。</p>","frontmatter":{"title":"创建 AUR 软件包","date":"April 10, 2016","description":""}},"previous":{"fields":{"slug":"/archives/2015-10-22-poker-ii-macbook-pro-setting/"},"frontmatter":{"title":"Poker II 交换 Alt 与 Win 键"}},"next":{"fields":{"slug":"/archives/2018-05-18-process/"},"frontmatter":{"title":"Process"}}},"pageContext":{"id":"4afbc9e6-fe92-5272-8ac9-bafff83ee9d3","previousPostId":"7ca130bd-2c6a-5bdd-867d-4acfa7c27d60","nextPostId":"cbb43f29-2157-5ac7-a40d-3cece12db92c"}},"staticQueryHashes":["2841359383","3257411868"]}